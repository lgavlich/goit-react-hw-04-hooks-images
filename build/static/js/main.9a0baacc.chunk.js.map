{"version":3,"sources":["API/api.js","components/Button/Button.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","App.js","index.js"],"names":["api","fetchSearch","search","page","fetch","then","response","ok","json","Promise","reject","Error","Button","onClick","className","type","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","src","modalImage","alt","Component","SearchBar","state","imageName","handleImageName","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","resetForm","placeholder","onChange","GalleryItem","id","webformatURL","largeImageURL","ImageGalleryItem","ImageGallery","images","onImgClick","map","Spinner","color","height","width","App","loader","showModal","formSubmit","res","hits","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","toggleModal","nodeName","dataset","img","prevProps","Loader","message","position","autoClose","newestOnTop","closeOnClick","rtl","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9a0baacc.chunk.js","sourcesContent":["function fetchSearch(search, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=23006232-27664577dbbc234e8c464ad7c&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Request ${search} not found`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchSearch,\r\n};\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className=\"Button-Click\">\r\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.modalImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  modalImage: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  handleImageName = (e) => {\r\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.imageName.trim() === \"\") {\r\n      return toast.error(\"Введіть правильний запит\");\r\n    }\r\n    this.props.onSubmit(this.state.imageName);\r\n    // this.setState({ imageName: \"\" });\r\n    this.resetForm();\r\n  };\r\n\r\n  resetForm = () => {\r\n    this.setState({\r\n      imageName: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"button\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\"></span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            //autocomplete=\"off\"\r\n            //autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleImageName}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst GalleryItem = ({ id, webformatURL, largeImageURL }) => {\r\n  return (\r\n    <li ImageGalleryItem key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"img\"\r\n        className=\"ImageGalleryItem-image\"\r\n        data-img={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default GalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, onImgClick }) => (\r\n  <ul className=\"ImageGallery\" onClick={onImgClick}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div>\r\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\nimport api from \"./API/api\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.js\";\nimport Loader from \"./components/Loader/Loader\";\n\nclass App extends Component {\n  state = {\n    imageName: \"\",\n    images: [],\n    page: 1,\n    loader: false,\n    showModal: false,\n    modalImage: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.fetchSearch();\n    }\n  }\n  formSubmit = (imageName) => {\n    this.setState({ imageName: imageName, page: 1, images: [] });\n  };\n\n  fetchSearch = () => {\n    const { imageName, page, images } = this.state;\n    this.setState({ loader: true });\n\n    api\n      .fetchSearch(imageName, page)\n      .then((res) => {\n        const { hits } = res;\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n\n        if (images.length > 12) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImgClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    this.setState({\n      modalImage: e.target.dataset.img,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, loader, showModal, modalImage } = this.state;\n    return (\n      <div>\n        {loader && <Loader />}\n        {this.state.error && <p>{this.state.error.message}</p>}\n\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={2000}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n        />\n        <Searchbar onSubmit={this.formSubmit} />\n        <ImageGallery images={images} onImgClick={this.onImgClick} />\n\n        {images.length > 0 && !loader && <Button onClick={this.fetchSearch} />}\n        {showModal && (\n          <Modal modalImage={modalImage} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}